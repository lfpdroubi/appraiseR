<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>appraiseR • appraiseR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="appraiseR">
<meta property="og:description" content="appraiseR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">appraiseR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/appraiseR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/lfpdroubi/appraiseR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="appraiseR_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>appraiseR</h1>
            <h3 class="subtitle">Engenharia de Avaliações no R</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lfpdroubi/appraiseR/blob/master/vignettes/appraiseR.Rmd"><code>vignettes/appraiseR.Rmd</code></a></small>
      <div class="hidden name"><code>appraiseR.Rmd</code></div>

    </div>

    
    
<div id="introdução" class="section level1">
<h1 class="hasAnchor">
<a href="#introdu%C3%A7%C3%A3o" class="anchor"></a>Introdução</h1>
<p><code>appraiseR</code> é um pacote <strong>R</strong> para facilitar a prática da Engenharia de Avaliações segundo a NBR 14.653-02 <span class="citation">(<em>NBR 14653-2: Avaliação de Bens Parte 2: Imóveis Urbanos</em> 2011)</span>.</p>
</div>
<div id="conjuntos-de-dados-disponíveis" class="section level1">
<h1 class="hasAnchor">
<a href="#conjuntos-de-dados-dispon%C3%ADveis" class="anchor"></a>Conjuntos de dados disponíveis</h1>
<p>Foram disponibilizados alguns conjuntos de dados visando possibilitar a confecção de testes dos algoritmos.</p>
<p>Uns destes conjuntos é um conjunto de <a href="https://lfpdroubi.github.io/appraiseR/reference/centro_2015.html">50 dados de apartamentos em Florianópolis</a> <span class="citation">(Hochheim 2015)</span>, que será utilizado neste texto:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"centro_2015"</span><span class="op">)</span>
<span class="va">dados</span> <span class="op">&lt;-</span> <span class="va">centro_2015</span><span class="op">@</span><span class="va">data</span></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="va">dados</span></pre></div>
<pre><code>## # A tibble: 53 x 7
##      valor area_total quartos suites garagens dist_b_mar padrao
##      &lt;dbl&gt;      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt; &lt;fct&gt; 
##  1 1060000      350         3      1        2        720 medio 
##  2  510000      137.        3      1        1        665 medio 
##  3  780000      165.        3      1        2        415 medio 
##  4  550000      175.        3      1        1        320 medio 
##  5  850000      123.        3      1        3        895 alto  
##  6  300000       89.8       2      0        1        645 baixo 
##  7  750000      174         2      1        2        860 alto  
##  8  650000      123         3      1        1        745 alto  
##  9  620000      121         3      1        1        745 alto  
## 10  740000      109         3      1        1        300 medio 
## # ... with 43 more rows</code></pre>
</div>
<div id="seleção-de-modelos" class="section level1">
<h1 class="hasAnchor">
<a href="#sele%C3%A7%C3%A3o-de-modelos" class="anchor"></a>Seleção de modelos</h1>
<p>A seleção de modelos pode ser feita através da função <code>bestfit</code>, fornecendo-se uma fórmula com as variáveis desejadas, sem qualquer transformação (o algoritmo se encarrega de testar as transformações).</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="va">best_fits</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bestfit.html">bestfit</a></span><span class="op">(</span><span class="va">valor</span><span class="op">~</span><span class="va">area_total</span> <span class="op">+</span> <span class="va">quartos</span> <span class="op">+</span> <span class="va">suites</span> <span class="op">+</span> <span class="va">garagens</span> <span class="op">+</span> 
                       <span class="va">dist_b_mar</span> <span class="op">+</span> <span class="va">padrao</span>, data <span class="op">=</span> <span class="va">dados</span><span class="op">)</span></pre></div>
<p>O pacote gera um objeto da classe bestfit</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">best_fits</span><span class="op">)</span></pre></div>
<pre><code>## [1] "bestfit"</code></pre>
<p>Uma vez feitas as combinações de transformações, elas podem ser vistas no console do <strong>R</strong>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">best_fits</span><span class="op">)</span></pre></div>
<pre><code>## Call:
## bestfit(formula = valor ~ area_total + quartos + suites + garagens + 
##     dist_b_mar + padrao, data = dados)
## 
## Best 10 fits:
##     id valor area_total quartos   suites garagens dist_b_mar    adj_R2
## 443  1 rsqrt       sqrt   rsqrt identity     sqrt      rsqrt 0.9480455
## 395  2 rsqrt   identity   rsqrt identity     sqrt      rsqrt 0.9477222
## 955  3 rsqrt       sqrt   rsqrt     sqrt     sqrt      rsqrt 0.9474578
## 907  4 rsqrt   identity   rsqrt     sqrt     sqrt      rsqrt 0.9472744
## 439  5 rsqrt       sqrt     log identity     sqrt      rsqrt 0.9471142
## 951  6 rsqrt       sqrt     log     sqrt     sqrt      rsqrt 0.9468425
## 391  7 rsqrt   identity     log identity     sqrt      rsqrt 0.9466028
## 903  8 rsqrt   identity     log     sqrt     sqrt      rsqrt 0.9465023
## 411  9 rsqrt        log   rsqrt identity     sqrt      rsqrt 0.9460101
## 407 10 rsqrt        log     log identity     sqrt      rsqrt 0.9455580
## ...</code></pre>
<p>Através do comando <code>summary</code> é impresso no console um sumário do modelo mais ajustado:</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">best_fits</span><span class="op">)</span></pre></div>
<pre><code>## Call:
## bestfit(formula = valor ~ area_total + quartos + suites + garagens + 
##     dist_b_mar + padrao, data = dados)
## 
## Best (Chosen) Transformations:
##     id valor area_total quartos   suites garagens dist_b_mar    adj_R2
## 443  1 rsqrt       sqrt   rsqrt identity     sqrt      rsqrt 0.9480455
## 
## Best (Chosen) fit LM summary:
## 
## Call:
## lm(formula = "rsqrt(valor) ~ sqrt(area_total) + rsqrt(quartos) + identity(suites) + sqrt(garagens) + rsqrt(dist_b_mar) + (padrao)", 
##     data = dados, subset = NULL)
## 
## Residuals:
##        Min         1Q     Median         3Q        Max 
## -2.144e-04 -5.344e-05  8.870e-07  4.272e-05  1.729e-04 
## 
## Coefficients:
##                     Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)        1.780e-03  1.301e-04  13.681  &lt; 2e-16 ***
## sqrt(area_total)  -2.279e-05  5.295e-06  -4.304 9.81e-05 ***
## rsqrt(quartos)     6.561e-04  1.269e-04   5.169 6.14e-06 ***
## identity(suites)  -4.240e-05  2.060e-05  -2.058   0.0459 *  
## sqrt(garagens)    -2.711e-04  4.426e-05  -6.125 2.62e-07 ***
## rsqrt(dist_b_mar) -2.628e-03  5.099e-04  -5.154 6.45e-06 ***
## padraomedio       -2.214e-04  4.586e-05  -4.828 1.85e-05 ***
## padraoalto        -2.576e-04  4.605e-05  -5.595 1.52e-06 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 8.428e-05 on 42 degrees of freedom
##   (3 observations deleted due to missingness)
## Multiple R-squared:  0.9555, Adjusted R-squared:  0.948 
## F-statistic: 128.7 on 7 and 42 DF,  p-value: &lt; 2.2e-16
## 
## NBR-14.653-2 check:
## Minimum number of market data:
## [1] "n = 53 &gt;= 42 --&gt; Grau III"
## Max significance level allowed for each predictor:
## [1] "t máximo = 4.59 %  &lt; 10% --&gt; Grau III"
## Max significance level allowed for F-test:
## [1] "p-valor F = 2.79e-24 % &lt; 1% --&gt; Grau III"</code></pre>
<p>É possível explorar melhor a tabelas das transformações, que está armazenada sob o nome de tabs dentro do objeto.</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">best_fits</span><span class="op">)</span></pre></div>
<pre><code>## [1] "adj.R2"       "tab"          "call"         "combinations" "response"    
## [6] "predictors"   "newdata"</code></pre>
<p>Por exemplo, pode-se selecionar apenas os modelos cuja transformação da variável resposta foi a transformação logaritmica.</p>
<div class="sourceCode" id="cb13"><pre class="downlit">
<span class="va">df</span> <span class="op">&lt;-</span> <span class="va">best_fits</span><span class="op">$</span><span class="va">tab</span>
<span class="va">logs</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">valor</span> <span class="op">==</span> <span class="st">"log"</span><span class="op">)</span>, <span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">logs</span><span class="op">)</span></pre></div>
<pre><code>##     id valor area_total  quartos   suites garagens dist_b_mar    adj_R2
## 335 32   log   identity     sqrt identity     sqrt      rsqrt 0.9425135
## 327 34   log   identity      log identity     sqrt      rsqrt 0.9422108
## 323 37   log   identity identity identity     sqrt      rsqrt 0.9420366
## 331 42   log   identity    rsqrt identity     sqrt      rsqrt 0.9412708
## 334 52   log   identity     sqrt identity     sqrt        log 0.9402942
## 322 55   log   identity identity identity     sqrt        log 0.9399696</code></pre>
<p>Pode-se, então, selecionar o sumário de um modelo diferente, através da escolha apropriada do <code>id</code> na tabela acima.</p>
<div class="sourceCode" id="cb15"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">best_fits</span>, fit <span class="op">=</span> <span class="fl">32</span><span class="op">)</span></pre></div>
<pre><code>## Call:
## bestfit(formula = valor ~ area_total + quartos + suites + garagens + 
##     dist_b_mar + padrao, data = dados)
## 
## Best (Chosen) Transformations:
##     id valor area_total quartos   suites garagens dist_b_mar    adj_R2
## 335 32   log   identity    sqrt identity     sqrt      rsqrt 0.9425135
## 
## Best (Chosen) fit LM summary:
## 
## Call:
## lm(formula = "log(valor) ~ identity(area_total) + sqrt(quartos) + identity(suites) + sqrt(garagens) + rsqrt(dist_b_mar) + (padrao)", 
##     data = dados, subset = NULL)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.30047 -0.06983 -0.01359  0.07933  0.35987 
## 
## Coefficients:
##                       Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)          1.144e+01  1.631e-01  70.112  &lt; 2e-16 ***
## identity(area_total) 1.844e-03  2.819e-04   6.540 6.64e-08 ***
## sqrt(quartos)        4.468e-01  1.185e-01   3.770 0.000504 ***
## identity(suites)     1.055e-01  3.634e-02   2.903 0.005860 ** 
## sqrt(garagens)       4.282e-01  7.751e-02   5.525 1.91e-06 ***
## rsqrt(dist_b_mar)    4.212e+00  9.096e-01   4.631 3.49e-05 ***
## padraomedio          2.167e-01  8.199e-02   2.643 0.011491 *  
## padraoalto           2.721e-01  8.198e-02   3.319 0.001872 ** 
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.1492 on 42 degrees of freedom
##   (3 observations deleted due to missingness)
## Multiple R-squared:  0.9507, Adjusted R-squared:  0.9425 
## F-statistic: 115.8 on 7 and 42 DF,  p-value: &lt; 2.2e-16
## 
## NBR-14.653-2 check:
## Minimum number of market data:
## [1] "n = 53 &gt;= 42 --&gt; Grau III"
## Max significance level allowed for each predictor:
## [1] "t máximo = 1.15 %  &lt; 10% --&gt; Grau III"
## Max significance level allowed for F-test:
## [1] "p-valor F = 2.31e-23 % &lt; 1% --&gt; Grau III"</code></pre>
</div>
<div id="diagnósticos" class="section level1">
<h1 class="hasAnchor">
<a href="#diagn%C3%B3sticos" class="anchor"></a>Diagnósticos</h1>
<p>Uma das vantagens de utilizar o <strong>R</strong> é que existem diversos pacotes com funções disponíveis para elaborar uma série de diagnósticos sobre os modelos de avaliação ajustados.</p>
<p>Abaixo ilustramos alguns testes de normalidade previstos pela NBR 14.653-02:</p>
<div class="sourceCode" id="cb17"><pre class="downlit">
<span class="co"># Modelo adotado (96)</span>
<span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">best_fits</span>, fit <span class="op">=</span> <span class="fl">96</span><span class="op">)</span><span class="op">$</span><span class="va">fit</span></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">nortest</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">normtest</span><span class="op">)</span></pre></div>
<ol style="list-style-type: lower-alpha">
<li>Teste do <span class="math inline">\(\chi^2\)</span>:</li>
</ol>
<div class="sourceCode" id="cb19"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/pkg/nortest/man/pearson.test.html">pearson.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/residuals.html">resid</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span><span class="op">)</span></pre></div>
<pre><code>## 
##  Pearson chi-square normality test
## 
## data:  resid(fit)
## P = 5.6, p-value = 0.5872</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li>Teste de Jarque-Bera:</li>
</ol>
<div class="sourceCode" id="cb21"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/pkg/normtest/man/jb.norm.test.html">jb.norm.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/residuals.html">resid</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span><span class="op">)</span></pre></div>
<pre><code>## 
##  Jarque-Bera test for normality
## 
## data:  resid(fit)
## JB = 0.80106, p-value = 0.6105</code></pre>
<p>Existe uma infinidade de testes, alguns não citados pela norma, porém de grande poder, como o de Shapiro-Wilk:</p>
<div class="sourceCode" id="cb23"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/stats/shapiro.test.html">shapiro.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/residuals.html">resid</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span><span class="op">)</span></pre></div>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  resid(fit)
## W = 0.98885, p-value = 0.9158</code></pre>
<p>Além dos testes já existentes no <strong>R</strong>, procurou-se criar funções que auxiliem na verificação da razoabilidade dos modelos ajustados, conforme solicita a NBR 14.653-02.</p>
<div id="gráficos-do-modelo" class="section level2">
<h2 class="hasAnchor">
<a href="#gr%C3%A1ficos-do-modelo" class="anchor"></a>Gráficos do modelo</h2>
<p>É possíve elaborar gráficos do modelo através da função <code>plotmod</code>:</p>
<div class="sourceCode" id="cb25"><pre class="downlit">
<span class="fu"><a href="../reference/plotmod.html">plotmod</a></span><span class="op">(</span><span class="va">best_fits</span>, fit <span class="op">=</span> <span class="fl">96</span><span class="op">)</span></pre></div>
<div class="figure" style="text-align: center">
<img src="appraiseR_files/figure-html/modelsPlot1-1.png" alt="Gráficos do modelo com outras variáveis em seus valores medianos." width="100%"><p class="caption">
Gráficos do modelo com outras variáveis em seus valores medianos.
</p>
</div>
<p>Para adicionar intervalos de confiança ou predição e escolher o nível adequado, faz-se:</p>
<div class="sourceCode" id="cb26"><pre class="downlit">
<span class="fu"><a href="../reference/plotmod.html">plotmod</a></span><span class="op">(</span><span class="va">best_fits</span>, fit <span class="op">=</span> <span class="fl">96</span>, interval <span class="op">=</span> <span class="st">"confidence"</span>, level <span class="op">=</span> <span class="fl">0.80</span><span class="op">)</span></pre></div>
<div class="figure" style="text-align: center">
<img src="appraiseR_files/figure-html/modelsPlot2-1.png" alt="Gráficos do modelo com intervalos de confiança (80%)." width="100%"><p class="caption">
Gráficos do modelo com intervalos de confiança (80%).
</p>
</div>
<p>É possível visualizar o comportamento do modelo no ponto de previsão de valores:</p>
<div class="sourceCode" id="cb27"><pre class="downlit">
<span class="fu"><a href="../reference/plotmod.html">plotmod</a></span><span class="op">(</span><span class="va">best_fits</span>, fit <span class="op">=</span> <span class="fl">96</span>, interval <span class="op">=</span> <span class="st">"confidence"</span>, level <span class="op">=</span> <span class="fl">0.80</span>,
         local <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>area_total <span class="op">=</span> <span class="fl">205</span>, quartos <span class="op">=</span> <span class="fl">3</span>, suites <span class="op">=</span> <span class="fl">1</span>, garagens <span class="op">=</span> <span class="fl">2</span>,
         dist_b_mar <span class="op">=</span> <span class="fl">250</span>, padrao <span class="op">=</span> <span class="st">"medio"</span><span class="op">)</span><span class="op">)</span></pre></div>
<div class="figure" style="text-align: center">
<img src="appraiseR_files/figure-html/modelsPlot3-1.png" alt="Gráficos do modelo no ponto de previsão de valores." width="100%"><p class="caption">
Gráficos do modelo no ponto de previsão de valores.
</p>
</div>
</div>
<div id="poder-de-predição" class="section level2">
<h2 class="hasAnchor">
<a href="#poder-de-predi%C3%A7%C3%A3o" class="anchor"></a>Poder de Predição</h2>
<p>A função <code>power_plot</code> ajusta o gráfico do poder de predição do modelo. Por padrão, a função <code>power_plot</code> ajusta o poder de predição do modelo de maior <span class="math inline">\(R^2_{ajustado}\)</span>.</p>
<div class="sourceCode" id="cb28"><pre class="downlit">
<span class="fu"><a href="../reference/power_plot.html">power_plot</a></span><span class="op">(</span><span class="va">best_fits</span><span class="op">)</span></pre></div>
<pre><code>## `geom_smooth()` using formula 'y ~ x'</code></pre>
<div class="figure" style="text-align: center">
<img src="appraiseR_files/figure-html/powerPlot1-1.png" alt="Poder de Predição do modelo." width="700"><p class="caption">
Poder de Predição do modelo.
</p>
</div>
<p>Porém, é possível selecionar outros modelos da tabela:</p>
<div class="sourceCode" id="cb30"><pre class="downlit">
<span class="fu"><a href="../reference/power_plot.html">power_plot</a></span><span class="op">(</span><span class="va">best_fits</span>, fit <span class="op">=</span> <span class="fl">96</span><span class="op">)</span></pre></div>
<pre><code>## `geom_smooth()` using formula 'y ~ x'</code></pre>
<div class="figure" style="text-align: center">
<img src="appraiseR_files/figure-html/powerPlot2-1.png" alt="Poder de Predição: modelo escolhido." width="700"><p class="caption">
Poder de Predição: modelo escolhido.
</p>
</div>
<p>Assim como também é possível elaborar o gráfico na escala de valores original:</p>
<div class="sourceCode" id="cb32"><pre class="downlit">
<span class="fu"><a href="../reference/power_plot.html">power_plot</a></span><span class="op">(</span><span class="va">best_fits</span>, fit <span class="op">=</span> <span class="fl">96</span>, func <span class="op">=</span> <span class="st">"log"</span><span class="op">)</span></pre></div>
<pre><code>## `geom_smooth()` using formula 'y ~ x'</code></pre>
<div class="figure" style="text-align: center">
<img src="appraiseR_files/figure-html/powerPlot3-1.png" alt="Poder de Predição: escala original." width="700"><p class="caption">
Poder de Predição: escala original.
</p>
</div>
</div>
<div id="grau-de-precisão" class="section level2">
<h2 class="hasAnchor">
<a href="#grau-de-precis%C3%A3o" class="anchor"></a>Grau de precisão</h2>
<p>As previsões podem ser feitas pela função <code>predict</code> aplicada ao método <code>bestfit</code>. Ao imprimí-las no console, serão mostrados os limites do intervalo escolhido, do campo de arbítrio, bem como a amplitude do intervalo e seu grau de precisão, segundo a NBR 14.653-02:</p>
<p>É possível fornecer parâmetros para a escolha das características dos imóveis a serem previstos através do argumento <code>newdata</code> (não mostrado). Caso não sejam fornecidos novos dados para ajuste, a função automaticamente irá procurar pelos avaliando no conjunto de dados (dados cuja variável resposta não tenha valores):</p>
<div class="sourceCode" id="cb34"><pre class="downlit">
<span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">best_fits</span>, fit <span class="op">=</span> <span class="fl">96</span>, interval <span class="op">=</span> <span class="st">"confidence"</span><span class="op">)</span>
<span class="va">p</span></pre></div>
<pre><code>## Predictions:
##         fit      lwr       upr   AMP G.P.   C.A.I.    C.A.S.     L.I.      L.S.
## 1  718398.7 650463.1  793429.7 19.90  III 610638.9  826158.5 650463.1  793429.7
## 2  976728.8 924746.2 1031633.6 10.94  III 830219.5 1123238.2 924746.2 1031633.6
## 3 1039121.6 978093.4 1103957.6 12.11  III 883253.4 1194989.8 978093.4 1103957.6</code></pre>
<div class="sourceCode" id="cb36"><pre class="downlit">
<span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">best_fits</span>, fit <span class="op">=</span> <span class="fl">96</span>, interval <span class="op">=</span> <span class="st">"prediction"</span><span class="op">)</span>
<span class="va">p1</span></pre></div>
<pre><code>## Predictions:
##         fit      lwr       upr   AMP G.P.   C.A.I.    C.A.S.     L.I.      L.S.
## 1  718398.7 573397.7  900067.7 45.47    I 610638.9  826158.5 610638.9  826158.5
## 2  976728.8 792007.8 1204532.6 42.24    I 830219.5 1123238.2 830219.5 1123238.2
## 3 1039121.6 841255.6 1283526.3 42.56    I 883253.4 1194989.8 883253.4 1194989.8</code></pre>
</div>
</div>
<div id="referências" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#refer%C3%AAncias" class="anchor"></a>Referências</h1>
<div id="refs" class="references">
<div id="ref-hochheim2015">
<p>Hochheim, Norberto. 2015. <em>Engenharia de Avaliações - Módulo Básico</em>. Florianópolis: IBAPE - SC.</p>
</div>
<div id="ref-NBR1465302">
<p><em>NBR 14653-2: Avaliação de Bens Parte 2: Imóveis Urbanos</em>. 2011. Rio de Janeiro: Associação Brasileira de Normas Técnicas.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Luiz F. P. Droubi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
